<html>
    <head>
        <meta charset="UTF-8">
        <style>
           .chess {           
            border: solid 2px; 
            width: 800px;
            height: 800px;
            background-image: url('img/chessboard.jpg');
            background-attachment:fixed; 
            background-size: 800px 800px;
            }

            .chessboard {
            width: 680px;
            height: 680px;
            margin: 50px;
            
            }
            .cell {
            float:left;
            width: 85px;
            height: 85px;          
            }
            
            .cellChecked {
            float:left;
            width: 85px;
            height: 85px;
            background-image: url('img/queen.png');
            background-size: 85px 85px;
            }
            
            .cell:hover {    
            background-image: url('img/queen.png');
            background-size: 85px 85px;
            }

            #result {
                color:burlywood;
                text-align: center;
                font-size: 24px;
                width: 800px;
                
            }
        </style>
        <script>
            let queenCounter = 0;
            function checker(a,b){
                let id = "" + a + b;
                let cheked = document.getElementById(id);
                
                let queenText = document.getElementById("queenCount")
                                
                for(let i = 0; i<8; i++){
                    let idHorizontale = "" + a + i;
                    let idVerticale = "" + i + b;

                    
                    let horizontaleCheked = document.getElementById(idHorizontale)
                    let verticaleCheked = document.getElementById(idVerticale)
                    

                    if (horizontaleCheked.classList == "cellChecked"){horizontaleCheked.classList = "cell"; queenCounter--}
                    if (verticaleCheked.classList == "cellChecked"){verticaleCheked.classList = "cell"; queenCounter--}

                    if ((a + i) < 8 && (b + i) < 8){
                        let idDiagonale = "" + (a+i) + (b+i)
                        let diagonaleCheked = document.getElementById(idDiagonale)
                        if (diagonaleCheked.classList == "cellChecked"){diagonaleCheked.classList = "cell"; queenCounter--}    
                    }

                    if ((a - i) >= 0 && (b - i) >= 0){
                        let idDiagonale = "" + (a-i) + (b-i)
                        let diagonaleCheked = document.getElementById(idDiagonale)
                        if (diagonaleCheked.classList == "cellChecked"){diagonaleCheked.classList = "cell";queenCounter--}    
                    }

                    if ((a + i) < 8 && (b - i) >= 0){
                        let idDiagonale = "" + (a+i) + (b-i)
                        let diagonaleCheked = document.getElementById(idDiagonale)
                        if (diagonaleCheked.classList == "cellChecked"){diagonaleCheked.classList = "cell";queenCounter--}    
                    }

                    if ((a - i) >= 0 && (b + i) < 8){
                        let idDiagonale = "" + (a-i) + (b+i)
                        let diagonaleCheked = document.getElementById(idDiagonale)
                        if (diagonaleCheked.classList == "cellChecked"){diagonaleCheked.classList = "cell";queenCounter--}    
                    }                
                }

                cheked.classList = "cellChecked"
                queenCounter ++;
                queenText.textContent = queenCounter;
                if(queenCounter == 8){alert("Честито, вие спечелихте")}
            }
        </script>
    </head>
    <body>        
        <form class="chess">
            <div class="chessboard">
                <!--8-->
                <div id="00" class="cell" onclick="checker(0,0)"></div>
                <div id="01" class="cell" onclick="checker(0,1)"></div>
                <div id="02" class="cell" onclick="checker(0,2)"></div>
                <div id="03" class="cell" onclick="checker(0,3)"></div>
                <div id="04" class="cell" onclick="checker(0,4)"></div>
                <div id="05" class="cell" onclick="checker(0,5)"></div>
                <div id="06" class="cell" onclick="checker(0,6)"></div>
                <div id="07" class="cell" onclick="checker(0,7)"></div>
                
                <!--7-->
                <div id="10" class="cell" onclick="checker(1,0)"></div>
                <div id="11" class="cell" onclick="checker(1,1)"></div>
                <div id="12" class="cell" onclick="checker(1,2)"></div>
                <div id="13" class="cell" onclick="checker(1,3)"></div>
                <div id="14" class="cell" onclick="checker(1,4)"></div>
                <div id="15" class="cell" onclick="checker(1,5)"></div>
                <div id="16" class="cell" onclick="checker(1,6)"></div>
                <div id="17" class="cell" onclick="checker(1,7)"></div>
                
                <!--6-->
                <div id="20" class="cell" onclick="checker(2,0)"></div>
                <div id="21" class="cell" onclick="checker(2,1)"></div>
                <div id="22" class="cell" onclick="checker(2,2)"></div>
                <div id="23" class="cell" onclick="checker(2,3)"></div>
                <div id="24" class="cell" onclick="checker(2,4)"></div>
                <div id="25" class="cell" onclick="checker(2,5)"></div>
                <div id="26" class="cell" onclick="checker(2,6)"></div>
                <div id="27" class="cell" onclick="checker(2,7)"></div>
                
                <!--5-->
                <div id="30" class="cell" onclick="checker(3,0)"></div>
                <div id="31" class="cell" onclick="checker(3,1)"></div>
                <div id="32" class="cell" onclick="checker(3,2)"></div>
                <div id="33" class="cell" onclick="checker(3,3)"></div>
                <div id="34" class="cell" onclick="checker(3,4)"></div>
                <div id="35" class="cell" onclick="checker(3,5)"></div>
                <div id="36" class="cell" onclick="checker(3,6)"></div>
                <div id="37" class="cell" onclick="checker(3,7)"></div>
                
                <!--4-->
                <div id="40" class="cell" onclick="checker(4,0)"></div>
                <div id="41" class="cell" onclick="checker(4,1)"></div>
                <div id="42" class="cell" onclick="checker(4,2)"></div>
                <div id="43" class="cell" onclick="checker(4,3)"></div>
                <div id="44" class="cell" onclick="checker(4,4)"></div>
                <div id="45" class="cell" onclick="checker(4,5)"></div>
                <div id="46" class="cell" onclick="checker(4,6)"></div>
                <div id="47" class="cell" onclick="checker(4,7)"></div>
                
                <!--3-->
                <div id="50" class="cell" onclick="checker(5,0)"></div>
                <div id="51" class="cell" onclick="checker(5,1)"></div>
                <div id="52" class="cell" onclick="checker(5,2)"></div>
                <div id="53" class="cell" onclick="checker(5,3)"></div>
                <div id="54" class="cell" onclick="checker(5,4)"></div>
                <div id="55" class="cell" onclick="checker(5,5)"></div>
                <div id="56" class="cell" onclick="checker(5,6)"></div>
                <div id="57" class="cell" onclick="checker(5,7)"></div>
                
                <!--2-->
                <div id="60" class="cell" onclick="checker(6,0)"></div>
                <div id="61" class="cell" onclick="checker(6,1)"></div>
                <div id="62" class="cell" onclick="checker(6,2)"></div>
                <div id="63" class="cell" onclick="checker(6,3)"></div>
                <div id="64" class="cell" onclick="checker(6,4)"></div>
                <div id="65" class="cell" onclick="checker(6,5)"></div>
                <div id="66" class="cell" onclick="checker(6,6)"></div>
                <div id="67" class="cell" onclick="checker(6,7)"></div>
                
                <!--1-->
                <div id="70" class="cell" onclick="checker(7,0)"></div>
                <div id="71" class="cell" onclick="checker(7,1)"></div>
                <div id="72" class="cell" onclick="checker(7,2)"></div>
                <div id="73" class="cell" onclick="checker(7,3)"></div>
                <div id="74" class="cell" onclick="checker(7,4)"></div>
                <div id="75" class="cell" onclick="checker(7,5)"></div>
                <div id="76" class="cell" onclick="checker(7,6)"></div>
                <div id="77" class="cell" onclick="checker(7,7)"></div>
                
            </div>  
        </form>
        <form id="result">
            <span>Имате:</span>
            <span id="queenCount"></span>
            <span>царици</span>
        </form>       
    </body>
</html>